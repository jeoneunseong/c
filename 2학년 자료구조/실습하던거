#include <stdio.h>
#include <stdlib.h>
#include <time.h>

// 함수 선언
double calculateAverage(int scores[], int size);
int getStudentScore(int scores[], int size, int studentNumber);
void printScore(int scores[], int size, double average, int option);

int main() {
    int *scores;
    int size = 30;
    int capacity = 30;
    int choice, studentNumber;
    
    scores = (int *)malloc(capacity * sizeof(int));
    if(!scores){
        printf("allocation error\n");
        return 1;
    }
    
    srand(time(0));
    for(int i=0; i<size; i++) scores[i] = rand() % 101;
    printf("입력 완료\n");
    21분 26초
    
}
  

// 평균 계산 함수
double calculateAverage(int scores[], int size) {
    int sum = 0;
    for (int i = 0; i < size; i++) {
        sum += scores[i];
    }
    return sum / (double)size;
}

// 특정 학생 점수 검색 함수
int getStudentScore(int scores[], int size, int studentNumber) {
    if (studentNumber >= 1 && studentNumber <= size) {
        return scores[studentNumber - 1];
    } else {
        return -1; // 유효하지 않은 학생 번호
    }
}

void printScore(int scores[], int size, double average, int option){
    switch(option){
        case 0:
            for(int i =0; i<size; i++){
                printf("학생번호: %d, 점수 %d\n", i+1, scores[i]);
            }
            break;
        case 1:
            printf("평균이상 학생\n");
            for(int i =0; i<size; i++){
                if(scores[i] >= average) printf("학생번호 : %d, 점수 %d\n", i+1, scores[i]);
            }
            break;
        case 2:
            printf("평균미만 학생\n");
            for(int i =0; i<size; i++){
                if(scores[i] < average) printf("학생번호 : %d, 점수 %d\n", i+1, scores[i]);
            }
            break;    
        default: //error
            printf("유호하지 않은 옵션입니다.\n");
            break;
    }
    
}
